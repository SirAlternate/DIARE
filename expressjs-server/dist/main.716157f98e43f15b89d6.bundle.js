webpackJsonp([0,3],{358:function(t,e,n){"use strict";var r=n(564);n.d(e,"a",function(){return r.a})},359:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.apiURL="http://localhost:4000"}return t}()},360:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t=o([n.i(r.G)({selector:"homepage",template:n(733),styles:[n(729)]}),i("design:paramtypes",[])],t)}()},361:function(t,e,n){"use strict";var r=n(0),o=n(27),i=n(563),a=n(358);n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=o.d.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),c=function(){function t(t,e){this.fb=t,this.userService=e,this.user=new i.a,this.formErrors={email1:"",email2:"",password1:"",password2:""},this.validationMessages={email1:{pattern:"Email Address is not valid.",required:"Email Address is required."},email2:{pattern:"Confirm Email Address is not valid.",required:"Confirm Email Address is required."},password1:{minlength:"Password must be at least 8 characters long.",required:"Password is required."},password2:{minlength:"Password must be at least 8 characters long.",required:"Confirm Password is required."}}}return t.prototype.onSubmit=function(){this.user.email=this.registrationForm.value.email1,this.user.password=this.registrationForm.value.password1,this.user.admin=!1,this.registrationForm.reset(),this.userService.create(this.user).subscribe(function(t){console.log("Registration successful!")},function(t){console.log(t._body)})},t.prototype.ngOnInit=function(){this.buildForm()},t.prototype.buildForm=function(){var t=this;this.registrationForm=this.fb.group({email1:["",[d,o.d.required]],email2:["",[d,o.d.required]],password1:["",[o.d.minLength(8),o.d.required]],password2:["",[o.d.minLength(8),o.d.required]]}),this.registrationForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.registrationForm){var e=this.registrationForm;for(var n in this.formErrors){this.formErrors[n]="";var r=e.get(n);if(r&&r.dirty&&!r.valid){var o=this.validationMessages[n];for(var i in r.errors)this.formErrors[n]+=o[i]+" "}}}},t=s([n.i(r.G)({selector:"registration-form",template:n(735),styles:[n(731)],providers:[a.a]}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.e&&o.e)&&e||Object,"function"==typeof(c="undefined"!=typeof a.a&&a.a)&&c||Object])],t);var e,c}()},446:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=446},447:function(t,e,n){"use strict";var r=n(570),o=(n.n(r),n(532)),i=n(0),a=n(569),s=n(567);a.a.production&&n.i(i._40)(),n.i(o.a)().bootstrapModule(s.a)},563:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t}()},564:function(t,e,n){"use strict";var r=n(0),o=n(335),i=n(739),a=(n.n(i),n(359));n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.http=t,this.config=e}return t.prototype.login=function(t,e){return this.http.post(this.config.apiURL+"/users/authenticate",{username:t,password:e}).map(function(t){var e=t.json();e&&e.token&&localStorage.setItem("currentUser",JSON.stringify(e))})},t.prototype.logout=function(){localStorage.removeItem("currentUser")},t.prototype.create=function(t){return this.http.post(this.config.apiURL+"/users/register",t,this.jwt())},t.prototype.jwt=function(){var t=JSON.parse(localStorage.getItem("currentUser"));if(t&&t.token){var e=new o.a({Authorization:"Bearer "+t.token});return new o.b({headers:e})}},t=s([n.i(r.R)(),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.c&&o.c)&&e||Object,"function"==typeof(i="undefined"!=typeof a.a&&a.a)&&i||Object])],t);var e,i}()},565:function(t,e,n){"use strict";var r=n(0),o=n(552),i=n(360),a=n(361);n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=[{path:"register",component:a.a},{path:"home",component:i.a},{path:"",redirectTo:"/home",pathMatch:"full"}],c=function(){function t(){}return t=s([n.i(r.I)({imports:[o.a.forRoot(d)],exports:[o.a]}),l("design:paramtypes",[])],t)}()},566:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.title="DIARE"}return t=o([n.i(r.G)({selector:"app-root",template:n(732),styles:[n(728)]}),i("design:paramtypes",[])],t)}()},567:function(t,e,n){"use strict";var r=n(81),o=n(0),i=n(27),a=n(335),s=n(573),l=n(566),d=n(565),c=n(359),f=n(360),u=n(568),m=n(361);n.d(e,"a",function(){return h});var p=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(){}return t=p([n.i(o.I)({declarations:[l.a,f.a,u.a,m.a],imports:[r.d,i.b,i.f,a.d,d.a,s.MdlModule],providers:[c.a],bootstrap:[l.a]}),g("design:paramtypes",[])],t)}()},568:function(t,e,n){"use strict";var r=n(0),o=n(27),i=n(358);n.d(e,"a",function(){return d});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=o.d.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),d=function(){function t(t,e){this.fb=t,this.userService=e,this.formErrors={email:"",password:""},this.validationMessages={email:{pattern:"Email Address is not valid.",required:"Email Address is required."},password:{minlength:"Password must be at least 8 characters long.",required:"Password is required."}}}return t.prototype.ngOnInit=function(){this.userService.logout(),this.buildForm()},t.prototype.buildForm=function(){var t=this;this.loginForm=this.fb.group({email:["",[l,o.d.required]],password:["",[o.d.minLength(8),o.d.required]]}),this.loginForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.loginForm){var e=this.loginForm;for(var n in this.formErrors){this.formErrors[n]="";var r=e.get(n);if(r&&r.dirty&&!r.valid){var o=this.validationMessages[n];for(var i in r.errors)this.formErrors[n]+=o[i]+" "}}}},t.prototype.onSubmit=function(){var t=this;this.userService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe(function(t){console.log("Login successful"),console.log(localStorage.getItem("currentUser"))},function(e){t.loginForm.reset(),console.log("Login failed:  "+e._body)})},t=a([n.i(r.G)({selector:"login-form",template:n(734),styles:[n(730)],providers:[i.a]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.e&&o.e)&&e||Object,"function"==typeof(d="undefined"!=typeof i.a&&i.a)&&d||Object])],t);var e,d}()},569:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},570:function(t,e,n){"use strict";var r=n(589),o=(n.n(r),n(582)),i=(n.n(o),n(578)),a=(n.n(i),n(584)),s=(n.n(a),n(583)),l=(n.n(s),n(581)),d=(n.n(l),n(580)),c=(n.n(d),n(588)),f=(n.n(c),n(577)),u=(n.n(f),n(576)),m=(n.n(u),n(586)),p=(n.n(m),n(579)),g=(n.n(p),n(587)),h=(n.n(g),n(585)),v=(n.n(h),n(590)),y=(n.n(v),n(752));n.n(y)},728:function(t,e){t.exports=".gridSpecs{\n  width:100%;\n}\n"},729:function(t,e){t.exports=""},730:function(t,e){t.exports=".formInputError{\n  color:#C70039;\n  font-size:.9em;\n  margin-top:-12px;\n  padding-top:-12px;\n}\n\n.form-group{\n  margin-bottom:10px;\n}\n\n.loginCard{\n  margin-left:auto;\n  margin-right:auto;\n}\n\n.loginDiv{\n  margin-left:auto;\n  margin-right:auto;\n  margin-top:30px;\n}\n"},731:function(t,e){t.exports=".formInputError{\n  color:#C70039;\n  font-size:.9em;\n  margin-top:-12px;\n  padding-top:-12px;\n}\n\n.form-group{\n  margin-bottom:10px;\n}\n\n.regCard{\n  margin-left:auto;\n  margin-right:auto;\n}\n\n.regDiv{\n  margin-left:auto;\n  margin-right:auto;\n  margin-top:30px;\n}\n"},732:function(t,e){t.exports='\n<div mdl-shadow="2">\n   <mdl-layout mdl-layout-fixed-header mdl-layout-header-seamed>\n\n      <mdl-layout-header>\n         <mdl-layout-header-row>\n            <mdl-layout-title>{{ title }}</mdl-layout-title>\n            <mdl-layout-spacer></mdl-layout-spacer>\n            <!-- Navigation Links.  Hidden for small screens. -->\n            <nav class="mdl-navigation mdl-layout--large-screen-only">\n               <a class="mdl-navigation__link" >Link</a>\n               <a class="mdl-navigation__link" >Link</a>\n               <a class="mdl-navigation__link" >Link</a>\n            </nav>\n         </mdl-layout-header-row>\n      </mdl-layout-header>\n\n      <mdl-layout-drawer>\n         <mdl-layout-title>{{ title }}</mdl-layout-title>\n         <nav class="mdl-navigation">\n            <a class="mdl-navigation__link" >Link</a>\n            <a class="mdl-navigation__link" >Link</a>\n            <a class="mdl-navigation__link" >Link</a>\n         </nav>\n      </mdl-layout-drawer>\n\n      <mdl-layout-content>\n          <router-outlet></router-outlet>\n      </mdl-layout-content>\n   </mdl-layout>\n</div>\n'},733:function(t,e){t.exports="<login-form></login-form>\n"},734:function(t,e){t.exports='<div class="mdl-grid">\n  <div class="mdl-cell--4-col loginDiv">\n    <mdl-card mdl-shadow="2" class="loginCard">\n       <mdl-card-title>\n         <h2 mdl-card-title-text>Login</h2>\n       </mdl-card-title>\n\n       <mdl-card-supporting-text>\n         <form [formGroup]="loginForm"  (ngSubmit)="onSubmit()">\n           <div class="form-group">\n             <mdl-textfield\n               label="Email Address *"\n               name="email"\n               type="text"\n               class="form-control"\n               formControlName="email"\n               floating-label\n             ></mdl-textfield>\n\n             <div *ngIf="formErrors.email" class="formInputError">\n               {{ formErrors.email }}\n             </div>\n           </div>\n\n           <div class="form-group">\n             <mdl-textfield\n               label="Password *"\n               name="password"\n               type="password"\n               class="form-control"\n               formControlName="password"\n               floating-label\n             ></mdl-textfield>\n\n             <div *ngIf="formErrors.password" class="formInputError">\n               {{ formErrors.password }}\n             </div>\n           </div>\n\n           <button mdl-button mdl-button-type="raised" mdl-colored="accent" type="submit" [disabled]="!loginForm.valid" mdl-ripple>Submit</button>\n         </form>\n       </mdl-card-supporting-text>\n     </mdl-card>\n  </div>\n</div>\n'},735:function(t,e){t.exports='<div class="mdl-grid">\n  <div class="mdl-cell--4-col regDiv">\n    <mdl-card mdl-shadow="2" class="regCard">\n       <mdl-card-title>\n         <h2 mdl-card-title-text>Register</h2>\n       </mdl-card-title>\n       <mdl-card-supporting-text>\n         <form [formGroup]="registrationForm"  (ngSubmit)="onSubmit()">\n           <div class="form-group">\n             <mdl-textfield\n               label="Email Address *"\n               name="email1"\n               type="text"\n               class="form-control"\n               formControlName="email1"\n               floating-label\n             ></mdl-textfield>\n\n             <div *ngIf="formErrors.email1" class="formInputError">\n               {{ formErrors.email1 }}\n             </div>\n\n           </div>\n\n           <div class="form-group">\n             <mdl-textfield\n               label="Confirm Email Address *"\n               name="email2"\n               type="text"\n               class="form-control"\n               formControlName="email2"\n               floating-label\n             ></mdl-textfield>\n\n             <div *ngIf="formErrors.email2" class="formInputError">\n               {{ formErrors.email2 }}\n             </div>\n\n           </div>\n\n           <div class="form-group">\n             <mdl-textfield\n               label="Password *"\n               name="password1"\n               type="password"\n               class="form-control"\n               formControlName="password1"\n               floating-label\n             ></mdl-textfield>\n\n             <div *ngIf="formErrors.password1" class="formInputError">\n               {{ formErrors.password1 }}\n             </div>\n\n           </div>\n\n           <div class="form-group">\n             <mdl-textfield\n               label="Confirm Password *"\n               name="password2"\n               type="password"\n               class="form-control"\n               formControlName="password2"\n               floating-label\n             ></mdl-textfield>\n\n             <div *ngIf="formErrors.password2" class="formInputError">\n               {{ formErrors.password2 }}\n             </div>\n           </div>\n\n           <button mdl-button mdl-button-type="raised" mdl-colored="accent" type="submit" [disabled]="!registrationForm.valid" mdl-ripple>Submit</button>\n\n         </form>\n       </mdl-card-supporting-text>\n     </mdl-card>\n   </div>\n </div>\n'},753:function(t,e,n){t.exports=n(447)}},[753]);
//# sourceMappingURL=main.716157f98e43f15b89d6.bundle.map